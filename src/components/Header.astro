---
import { getLangFromUrl, useTranslations, useTranslatedPath } from '@i18n/utils'
import { GrantCodesContainer } from '@grantcodes/ui/components/container/container.component.js'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
const translatePath = useTranslatedPath(lang)
---

<header>
  <GrantCodesContainer align="wide">
    <div class="grid">
      <a href={translatePath('/')}>
        <img src="/favicon.svg" alt="Net0.1" width="60" height="60" />
      </a>

      <nav>
        <ul>
          <li>
            <a href={translatePath('/docs')}>{t('header.docs')}</a>
          </li>
          <li>
            <a href={translatePath('/blog')}>{t('header.blog')}</a>
          </li>
        </ul>
      </nav>
    </div>
  </GrantCodesContainer>
</header>

<style>
  header {
    position: sticky;
    inset-block-start: 0;
    padding-block: calc(var(--size-space-unit) / 2);
    backdrop-filter: blur(1rem);
    background-color: var(--color-base-background-main);
    background-color: color(
      from var(--color-base-background-main) srgb r g b / 0.7
    );
    border-block-end: 1px solid var(--color-base-background-shade);
  }

  header .grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: var(--size-space-unit);
  }

  header nav ul {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: var(--size-space-unit);
  }

  @media (min-width: 768px) {
    header nav {
      margin-inline-start: auto;
    }
  }
  
  header a {
    display: block;
  }

  header
</style>
